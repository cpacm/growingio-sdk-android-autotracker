import org.gradle.internal.jvm.Jvm

plugins {
    id 'java-library'
    id 'kotlin'
}

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

dependencies {
    testImplementation libraries.test.junit
    testImplementation ("com.google.testing.compile:compile-testing:0.19") {
        // We don't use this and including it requires us to list it separatel which would be
        // confusing.
        exclude group: "com.google.auto.value", module: "auto-value"
    }


    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"

    annotationProcessor libraries.google.auto_service
    compileOnly libraries.google.auto_service_annotations
    implementation libraries.squareup.javapoet

    implementation project(":growingio-annotation")
    if (!Jvm.current().getJavaVersion().java9Compatible) {
        compileOnly files(Jvm.current().getToolsJar())
    }
}

apply from: "${rootProject.projectDir}/gradle/publishMaven.gradle"